# tabs and spacing matter in this file.
version: "3"
# A service is a container
services:
  api:
    build: .
  # The outside world need to be able to speak to our container, so we need to open up a port
    ports:
      #- <port on localhost(any open port)>:<port on container(same as in Dockerfile)>
      - 8000:8000
    environment:
      - DATABASE_HOSTNAME=postgres
      - DATABASE_PASSWORD=postgres
      - DATABASE_PORT=5432
      - DATABASE_NAME=fastapi
      - DATABASE_USERNAME=postgres
      - SECRET_KEY=09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7
      - ALGORITHM=HS256
      - ACCESS_TOKEN_EXPIRE_MINUTES=60


# docker-compose up -d
# docker ps -a # ...see if it crashed
# docker logs fastapi-api-1

# docker-compose down (tears everythig down)
# docker-compose up -d --build  # forces rebuild